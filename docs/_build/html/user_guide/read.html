
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Read and Data Evolution &#8212; C++ Paimon</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=986af390" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=3bb21c8c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/read';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data Cleanup" href="clean.html" />
    <link rel="prev" title="Commit" href="commit.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.9.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Paimon C++</p>
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started.html">
    Getting Started
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../user_guide.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/alibaba/paimon-cpp" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started.html">
    Getting Started
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../user_guide.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/alibaba/paimon-cpp" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="catalog.html">Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema.html">Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="snapshot.html">Snapshot</a></li>
<li class="toctree-l1"><a class="reference internal" href="manifest.html">Manifest</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_types.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="primary_key_table.html">Primary Key Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="append_only_table.html">Append Only Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="write.html">Write And Prepare Commit</a></li>
<li class="toctree-l1"><a class="reference internal" href="commit.html">Commit</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Read and Data Evolution</a></li>

<li class="toctree-l1"><a class="reference internal" href="clean.html">Data Cleanup</a></li>
<li class="toctree-l1"><a class="reference internal" href="prefetch.html">Prefetch</a></li>


<li class="toctree-l1"><a class="reference internal" href="arrow.html">Memory Format</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../user_guide.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Read and Data Evolution</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="read-and-data-evolution">
<h1>Read and Data Evolution<a class="headerlink" href="#read-and-data-evolution" title="Link to this heading">#</a></h1>
<p>Paimon by functionality can be divided into two layers:</p>
<ul class="simple">
<li><p>Control Plane: Responsible for accessing and managing Meta (snapshot, manifest, etc.), including:
- Catalog / Database access
- Table retrieval
- Collection and resolution of data files</p></li>
<li><p>Data Plane: Responsible for accessing actual data files, including:
- Readers for various file formats
- Coordinated reading of file collections</p></li>
</ul>
<p>The control plane and data plane interact primarily via DataSplit (the query plan). Java currently supports a standard
DataSplit protocol which includes the necessary meta information to access data files. With DataSplit, a high-performance
data access path can be integrated.</p>
<p>At compute time, the execution engine (reader) does not need to be aware of the concrete table type or its metadata details.
It only needs to follow the instructions within the DataSplit (query plan) to perform data reading operations.</p>
<p>With the layered abstraction of the control plane and data plane, and the use of DataSplit as a stable protocol interface,
the two layers can evolve their functionality and optimize code relatively independently. This design also enables
cross-language task scheduling and interaction (e.g., Java and C++), substantially reducing engineering maintenance costs
across the two language ecosystems.</p>
</section>
<section id="schema-evolution">
<h1>Schema Evolution<a class="headerlink" href="#schema-evolution" title="Link to this heading">#</a></h1>
<section id="scope-and-compatibility">
<h2>Scope and Compatibility<a class="headerlink" href="#scope-and-compatibility" title="Link to this heading">#</a></h2>
<p>C++ Paimon supports all evolution kinds available in Java Paimon for non-nested types:</p>
<ul class="simple">
<li><p>Add column</p></li>
<li><p>Drop column</p></li>
<li><p>Reorder columns</p></li>
<li><p>Rename column</p></li>
<li><p>Change column type</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Only non-nested type evolution is supported. Nested columns (struct, array, map) are not supported.</p></li>
<li><p>Partition keys: Only column reordering is supported; other operations are not supported (consistent with Java Paimon).</p></li>
<li><p>Primary key:</p>
<ul>
<li><p>Adding or dropping columns is not supported.</p></li>
<li><p>Other operations are supported (consistent with Java Paimon).</p></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="per-file-schema-via-field-ids">
<h2>Per-File Schema via Field IDs<a class="headerlink" href="#per-file-schema-via-field-ids" title="Link to this heading">#</a></h2>
<p>In DataSplit, each file may have a completely different data schema. Paimon uses field IDs to uniquely identify fields.</p>
</section>
<section id="overflow-behavior-disclaimer">
<h2>Overflow Behavior Disclaimer<a class="headerlink" href="#overflow-behavior-disclaimer" title="Link to this heading">#</a></h2>
<p>Overflow behavior is undefined for C++ and Java Paimon. Results in overflow scenarios may:</p>
<ul class="simple">
<li><p>Be incorrect values,</p></li>
<li><p>Return an error status,</p></li>
<li><p>Or be null.</p></li>
</ul>
<p>C++ Paimon does not guarantee identical results to Java Paimon in overflow scenarios. Users should not rely on identical
return values between implementations.</p>
</section>
<section id="type-change-support-matrix">
<h2>Type Change Support Matrix<a class="headerlink" href="#type-change-support-matrix" title="Link to this heading">#</a></h2>
<p>The table below indicates support for changing a column type from <code class="docutils literal notranslate"><span class="pre">source</span></code> to <code class="docutils literal notranslate"><span class="pre">target</span></code>. Refer to the numbered notes below the table
for caveats.</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 8.7%" />
<col style="width: 7.2%" />
<col style="width: 7.2%" />
<col style="width: 7.2%" />
<col style="width: 7.2%" />
<col style="width: 7.2%" />
<col style="width: 7.2%" />
<col style="width: 5.8%" />
<col style="width: 8.7%" />
<col style="width: 7.2%" />
<col style="width: 5.8%" />
<col style="width: 13.0%" />
<col style="width: 7.2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>src \ target</p></th>
<th class="head"><p>tinyint</p></th>
<th class="head"><p>smallint</p></th>
<th class="head"><p>int</p></th>
<th class="head"><p>bigint</p></th>
<th class="head"><p>float</p></th>
<th class="head"><p>double</p></th>
<th class="head"><p>bool</p></th>
<th class="head"><p>string</p></th>
<th class="head"><p>binary</p></th>
<th class="head"><p>date</p></th>
<th class="head"><p>timestamp (without tz)</p></th>
<th class="head"><p>decimal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>tinyint</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>smallint</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>int</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>bigint</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅ 6️⃣</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅ 3️⃣ 4️⃣</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>double</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅ 2️⃣</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅ 3️⃣ 4️⃣</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>string</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅ 3️⃣</p></td>
<td><p>✅ 3️⃣</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>✅ 5️⃣</p></td>
<td><p>✅ 7️⃣</p></td>
</tr>
<tr class="row-even"><td><p>binary</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-odd"><td><p>date</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
<td><p>✅ 5️⃣</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-even"><td><p>timestamp (without tz)</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-odd"><td><p>decimal</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅ 1️⃣</p></td>
<td><p>✅</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>✅</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admonition">
<p class="admonition-title">Overflow Behavior Notes</p>
<dl class="simple">
<dt>1️⃣ Integer downcast overflow behavior matches Java in specific cases.</dt><dd><p>Example: smallint -&gt; tinyint, 32767 becomes -1; int -&gt; smallint, -2147483648 becomes 0.</p>
</dd>
<dt>2️⃣ Floating-point overflow behavior is partially consistent with Java and partially different.</dt><dd><dl class="simple">
<dt>Example: float -&gt; tinyint</dt><dd><ul class="simple">
<li><p>Java: MAX_FLOAT -&gt; -1, INFINITY -&gt; -1</p></li>
<li><p>C++:  MAX_FLOAT -&gt; 0, INFINITY -&gt; 0</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>3️⃣ Keyword differences for special float/double values:</dt><dd><ul class="simple">
<li><p>Java: Infinity, -Infinity, NaN</p></li>
<li><p>C++:  inf, -inf, nan</p></li>
</ul>
</dd>
<dt>4️⃣ Printing difference:</dt><dd><ul class="simple">
<li><p>C++ Paimon prints 1.0 as <code class="docutils literal notranslate"><span class="pre">1</span></code></p></li>
<li><p>Java Paimon prints 1.0 as <code class="docutils literal notranslate"><span class="pre">1.0</span></code></p></li>
</ul>
</dd>
<dt>5️⃣ Timestamp precision and range differences:</dt><dd><ul class="simple">
<li><p>Java Paimon: 0000-01-01 00:00:00.000000000 to 9999-12-31 23:59:59.999999999</p></li>
<li><p>C++ Paimon:  1677-09-21 00:12:43.145224192 to 2262-04-11 23:47:16.854775807</p></li>
<li><p>C++ only supports nanosecond precision; range is smaller.</p></li>
</ul>
</dd>
<dt>6️⃣ bigint -&gt; timestamp range differences:</dt><dd><ul class="simple">
<li><p>Java Paimon (ms):   <code class="docutils literal notranslate"><span class="pre">[MIN_INT64/1000,</span> <span class="pre">MAX_INT64/1000]</span></code> seconds</p></li>
<li><p>C++ Paimon (ns):    <code class="docutils literal notranslate"><span class="pre">[MIN_INT64/1e9,</span>&#160; <span class="pre">MAX_INT64/1e9]</span></code> seconds</p></li>
</ul>
</dd>
<dt>7️⃣ string -&gt; decimal with precision &gt; 38:</dt><dd><ul class="simple">
<li><p>C++ returns <code class="docutils literal notranslate"><span class="pre">null</span></code> if parsing would overflow 128-bit arithmetic.</p></li>
<li><p>Java may rescale and return a value based on the rescaled precision.</p></li>
<li><p>Example input: <code class="docutils literal notranslate"><span class="pre">1111111111111111111111111111111111111.15</span></code>, Java returns: <code class="docutils literal notranslate"><span class="pre">1111111111111111111111111111111111111.2</span></code>, C++ returns: <code class="docutils literal notranslate"><span class="pre">null</span></code></p></li>
</ul>
</dd>
</dl>
</div>
</section>
<section id="implementation-guidance">
<h2>Implementation Guidance<a class="headerlink" href="#implementation-guidance" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Use DataSplit as the sole interface between control and data planes. Treat it as the canonical query plan contract.</p></li>
<li><p>Resolve field types and IDs per file; prefer inline data file metadata, fallback to table schema files when necessary.</p></li>
<li><p>Expect per-file schema variability; design readers to align by field IDs rather than positional indices.</p></li>
<li><p>Do not assume identical overflow semantics across C++ and Java; tests should validate acceptable ranges and nullability.</p></li>
<li><p>For timestamp handling, consider precision/range constraints in C++ when interoperating with Java-produced data splits.</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="commit.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Commit</p>
      </div>
    </a>
    <a class="right-next"
       href="clean.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Data Cleanup</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Read and Data Evolution</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#schema-evolution">Schema Evolution</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scope-and-compatibility">Scope and Compatibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#per-file-schema-via-field-ids">Per-File Schema via Field IDs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overflow-behavior-disclaimer">Overflow Behavior Disclaimer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#type-change-support-matrix">Type Change Support Matrix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation-guidance">Implementation Guidance</a></li>
</ul>
</li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/alibaba/paimon-cpp/edit/main/docs/source/user_guide/read.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024-present Alibaba Inc..
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paimon-cpp: paimon::BatchReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Paimon-cpp
   </div>
   <div id="projectbrief">A high-performance C++ implementation of Apache Paimon</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepaimon.html">paimon</a></li><li class="navelem"><a class="el" href="classpaimon_1_1_batch_reader.html">BatchReader</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classpaimon_1_1_batch_reader-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">paimon::BatchReader Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>A batch reader that supports reading batch data into an arrow array.  
 <a href="classpaimon_1_1_batch_reader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="batch__reader_8h_source.html">/home/runner/work/paimon-cpp/paimon-cpp/include/paimon/reader/batch_reader.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for paimon::BatchReader:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classpaimon_1_1_batch_reader.png" usemap="#paimon::BatchReader_map" alt=""/>
  <map id="paimon::BatchReader_map" name="paimon::BatchReader_map">
<area href="classpaimon_1_1_file_batch_reader.html" title="The batch reader for a single file supports returning the line number of the last batch read for dele..." alt="paimon::FileBatchReader" shape="rect" coords="0,56,152,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a52a5b04ada9bf1da22f5d7e1784927b2" id="r_a52a5b04ada9bf1da22f5d7e1784927b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">using</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a> = std::pair&lt; std::unique_ptr&lt; <a class="el" href="struct_arrow_array.html">ArrowArray</a> &gt;, std::unique_ptr&lt; <a class="el" href="struct_arrow_schema.html">ArrowSchema</a> &gt; &gt;</td></tr>
<tr class="separator:a52a5b04ada9bf1da22f5d7e1784927b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee7cac856f2b254e171b12db7146246" id="r_a4ee7cac856f2b254e171b12db7146246"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">using</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a> = std::pair&lt; <a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a>, <a class="el" href="classpaimon_1_1_roaring_bitmap32.html">RoaringBitmap32</a> &gt;</td></tr>
<tr class="separator:a4ee7cac856f2b254e171b12db7146246"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9741d92af7160375a51e1a497afcfa1a" id="r_a9741d92af7160375a51e1a497afcfa1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a9741d92af7160375a51e1a497afcfa1a">~BatchReader</a> ()=<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">default</a></td></tr>
<tr class="separator:a9741d92af7160375a51e1a497afcfa1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01358cb810bb14fcb26663d510c08fce" id="r_a01358cb810bb14fcb26663d510c08fce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> <a class="el" href="classpaimon_1_1_result.html">Result</a>&lt; <a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a01358cb810bb14fcb26663d510c08fce">NextBatch</a> ()=0</td></tr>
<tr class="memdesc:a01358cb810bb14fcb26663d510c08fce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the next batch of data.  <br /></td></tr>
<tr class="separator:a01358cb810bb14fcb26663d510c08fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b5062701224aeae83472380d02f434" id="r_ae4b5062701224aeae83472380d02f434"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> <a class="el" href="classpaimon_1_1_result.html">Result</a>&lt; <a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#ae4b5062701224aeae83472380d02f434">NextBatchWithBitmap</a> ()</td></tr>
<tr class="memdesc:ae4b5062701224aeae83472380d02f434"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the next batch of data.  <br /></td></tr>
<tr class="separator:ae4b5062701224aeae83472380d02f434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af3a8346bbfc3de3da09840c70ac0ff" id="r_a8af3a8346bbfc3de3da09840c70ac0ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> std::shared_ptr&lt; <a class="el" href="classpaimon_1_1_metrics.html">Metrics</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a8af3a8346bbfc3de3da09840c70ac0ff">GetReaderMetrics</a> () <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> =0</td></tr>
<tr class="memdesc:a8af3a8346bbfc3de3da09840c70ac0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the reader's metrics.  <br /></td></tr>
<tr class="separator:a8af3a8346bbfc3de3da09840c70ac0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167febf97b0e2ef4f48f034fe3af16b6" id="r_a167febf97b0e2ef4f48f034fe3af16b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a167febf97b0e2ef4f48f034fe3af16b6">Close</a> ()=0</td></tr>
<tr class="memdesc:a167febf97b0e2ef4f48f034fe3af16b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the <code><a class="el" href="classpaimon_1_1_batch_reader.html" title="A batch reader that supports reading batch data into an arrow array.">BatchReader</a></code>, releasing any associated resources.  <br /></td></tr>
<tr class="separator:a167febf97b0e2ef4f48f034fe3af16b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac05becfb364d38b4a031f052bfc9cf14" id="r_ac05becfb364d38b4a031f052bfc9cf14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">static</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#ac05becfb364d38b4a031f052bfc9cf14">IsEofBatch</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a> &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">batch</a>)</td></tr>
<tr class="memdesc:ac05becfb364d38b4a031f052bfc9cf14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether a <code><a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a></code> or <code><a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a></code> is eof batch, if return true, all the data has been returned.  <br /></td></tr>
<tr class="separator:ac05becfb364d38b4a031f052bfc9cf14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d21246481d9779eff506eaf8f1410fd" id="r_a4d21246481d9779eff506eaf8f1410fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">static</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a4d21246481d9779eff506eaf8f1410fd">IsEofBatch</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a> &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">batch_with_bitmap</a>)</td></tr>
<tr class="separator:a4d21246481d9779eff506eaf8f1410fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00dea15698a3203dd058daf2a184a74e" id="r_a00dea15698a3203dd058daf2a184a74e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">static</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a00dea15698a3203dd058daf2a184a74e">MakeEofBatch</a> ()</td></tr>
<tr class="memdesc:a00dea15698a3203dd058daf2a184a74e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make an eof batch or batch with bitmap.  <br /></td></tr>
<tr class="separator:a00dea15698a3203dd058daf2a184a74e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81dd9677ebaf7b97ef898a51179e42c6" id="r_a81dd9677ebaf7b97ef898a51179e42c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">static</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_batch_reader.html#a81dd9677ebaf7b97ef898a51179e42c6">MakeEofBatchWithBitmap</a> ()</td></tr>
<tr class="separator:a81dd9677ebaf7b97ef898a51179e42c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A batch reader that supports reading batch data into an arrow array. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a52a5b04ada9bf1da22f5d7e1784927b2" name="a52a5b04ada9bf1da22f5d7e1784927b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a5b04ada9bf1da22f5d7e1784927b2">&#9670;&#160;</a></span>ReadBatch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">using</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">paimon::BatchReader::ReadBatch</a> =  std::pair&lt;std::unique_ptr&lt;<a class="el" href="struct_arrow_array.html">ArrowArray</a>&gt;, std::unique_ptr&lt;<a class="el" href="struct_arrow_schema.html">ArrowSchema</a>&gt; &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ee7cac856f2b254e171b12db7146246" name="a4ee7cac856f2b254e171b12db7146246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee7cac856f2b254e171b12db7146246">&#9670;&#160;</a></span>ReadBatchWithBitmap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">using</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">paimon::BatchReader::ReadBatchWithBitmap</a> =  std::pair&lt;<a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a>, <a class="el" href="classpaimon_1_1_roaring_bitmap32.html">RoaringBitmap32</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9741d92af7160375a51e1a497afcfa1a" name="a9741d92af7160375a51e1a497afcfa1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9741d92af7160375a51e1a497afcfa1a">&#9670;&#160;</a></span>~BatchReader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> paimon::BatchReader::~BatchReader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a01358cb810bb14fcb26663d510c08fce" name="a01358cb810bb14fcb26663d510c08fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01358cb810bb14fcb26663d510c08fce">&#9670;&#160;</a></span>NextBatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> <a class="el" href="classpaimon_1_1_result.html">Result</a>&lt; <a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a> &gt; paimon::BatchReader::NextBatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the next batch of data. </p>
<p>If EOF is reached, returns an OK status with a nullptr array. Returns an error status only for critical failures (e.g., IO errors). Once an error is returned, this method must not be retried, as it will repeatedly return the same error code.</p>
<dl class="section return"><dt>Returns</dt><dd>A result containing a <code><a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a></code>, which consists of a unique pointer to <code><a class="el" href="struct_arrow_array.html">ArrowArray</a></code> and a unique pointer to <code><a class="el" href="struct_arrow_schema.html">ArrowSchema</a></code>. Returned array contains a <code>_VALUE_KIND</code> field (the first field) to indicate the row kind of each row. Deleted or index-filtered rows are removed. </dd></dl>

<p>Implemented in <a class="el" href="classpaimon_1_1_file_batch_reader.html#a01358cb810bb14fcb26663d510c08fce">paimon::FileBatchReader</a>.</p>

</div>
</div>
<a id="ae4b5062701224aeae83472380d02f434" name="ae4b5062701224aeae83472380d02f434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b5062701224aeae83472380d02f434">&#9670;&#160;</a></span>NextBatchWithBitmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> <a class="el" href="classpaimon_1_1_result.html">Result</a>&lt; <a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a> &gt; paimon::BatchReader::NextBatchWithBitmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the next batch of data. </p>
<p>If EOF is reached, returns an OK status with a nullptr array. Returns an error status only for critical failures (e.g., IO errors). Once an error is returned, this method must not be retried, as it will repeatedly return the same error code.</p>
<dl class="section return"><dt>Returns</dt><dd>A result containing a <code><a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a></code> and a valid bitmap. <code><a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a></code> consists of a unique pointer to <code><a class="el" href="struct_arrow_array.html">ArrowArray</a></code> and a unique pointer to <code><a class="el" href="struct_arrow_schema.html">ArrowSchema</a></code>. Returned array contains a _VALUE_KIND field (the first field) to indicate the row kind of each row. Deleted or index-filtered records maybe maintained in <code><a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a></code>, while bitmap indicates valid row id. If deletion vector or index are enabled, this function is more efficient than <code><a class="el" href="classpaimon_1_1_batch_reader.html#a01358cb810bb14fcb26663d510c08fce" title="Retrieves the next batch of data.">NextBatch()</a></code>. The default implementation calls <code><a class="el" href="classpaimon_1_1_batch_reader.html#a01358cb810bb14fcb26663d510c08fce" title="Retrieves the next batch of data.">NextBatch()</a></code> and adds all rows to valid bitmap. Noted that the returned bitmap has at least one valid row id. </dd></dl>

<p>Reimplemented in <a class="el" href="classpaimon_1_1_file_batch_reader.html#ae4b5062701224aeae83472380d02f434">paimon::FileBatchReader</a>.</p>

</div>
</div>
<a id="a8af3a8346bbfc3de3da09840c70ac0ff" name="a8af3a8346bbfc3de3da09840c70ac0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af3a8346bbfc3de3da09840c70ac0ff">&#9670;&#160;</a></span>GetReaderMetrics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> std::shared_ptr&lt; <a class="el" href="classpaimon_1_1_metrics.html">Metrics</a> &gt; paimon::BatchReader::GetReaderMetrics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the reader's metrics. </p>
<p>Note that calling this method frequently may incur significant performance overhead. </p><dl class="section return"><dt>Returns</dt><dd>A shared pointer to the <code><a class="el" href="classpaimon_1_1_metrics.html" title="Abstract interface for collecting and managing performance metrics in Paimon operations.">Metrics</a></code> object. </dd></dl>

</div>
</div>
<a id="a167febf97b0e2ef4f48f034fe3af16b6" name="a167febf97b0e2ef4f48f034fe3af16b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a167febf97b0e2ef4f48f034fe3af16b6">&#9670;&#160;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">virtual</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">void</a> paimon::BatchReader::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes the <code><a class="el" href="classpaimon_1_1_batch_reader.html" title="A batch reader that supports reading batch data into an arrow array.">BatchReader</a></code>, releasing any associated resources. </p>
<p>After calling this method, further calls to <code><a class="el" href="classpaimon_1_1_batch_reader.html#a01358cb810bb14fcb26663d510c08fce" title="Retrieves the next batch of data.">NextBatch()</a></code> is undefined and should be avoided. </p>

</div>
</div>
<a id="ac05becfb364d38b4a031f052bfc9cf14" name="ac05becfb364d38b4a031f052bfc9cf14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05becfb364d38b4a031f052bfc9cf14">&#9670;&#160;</a></span>IsEofBatch() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">static</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">bool</a> paimon::BatchReader::IsEofBatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a> &amp;&#160;</td>
          <td class="paramname"><em>batch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine whether a <code><a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a></code> or <code><a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a></code> is eof batch, if return true, all the data has been returned. </p>

</div>
</div>
<a id="a4d21246481d9779eff506eaf8f1410fd" name="a4d21246481d9779eff506eaf8f1410fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d21246481d9779eff506eaf8f1410fd">&#9670;&#160;</a></span>IsEofBatch() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">static</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">bool</a> paimon::BatchReader::IsEofBatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a> &amp;&#160;</td>
          <td class="paramname"><em>batch_with_bitmap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a00dea15698a3203dd058daf2a184a74e" name="a00dea15698a3203dd058daf2a184a74e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00dea15698a3203dd058daf2a184a74e">&#9670;&#160;</a></span>MakeEofBatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">static</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a52a5b04ada9bf1da22f5d7e1784927b2">ReadBatch</a> paimon::BatchReader::MakeEofBatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make an eof batch or batch with bitmap. </p>

</div>
</div>
<a id="a81dd9677ebaf7b97ef898a51179e42c6" name="a81dd9677ebaf7b97ef898a51179e42c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81dd9677ebaf7b97ef898a51179e42c6">&#9670;&#160;</a></span>MakeEofBatchWithBitmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">static</a> <a class="el" href="classpaimon_1_1_batch_reader.html#a4ee7cac856f2b254e171b12db7146246">ReadBatchWithBitmap</a> paimon::BatchReader::MakeEofBatchWithBitmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/paimon-cpp/paimon-cpp/include/paimon/reader/<a class="el" href="batch__reader_8h_source.html">batch_reader.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>

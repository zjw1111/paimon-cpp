<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paimon-cpp: paimon::WriteContextBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Paimon-cpp
   </div>
   <div id="projectbrief">A high-performance C++ implementation of Apache Paimon</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepaimon.html">paimon</a></li><li class="navelem"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classpaimon_1_1_write_context_builder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">paimon::WriteContextBuilder Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code><a class="el" href="classpaimon_1_1_write_context_builder.html" title="WriteContextBuilder used to build a WriteContext, has input validation.">WriteContextBuilder</a></code> used to build a <code><a class="el" href="classpaimon_1_1_write_context.html" title="WriteContext is some configuration for write operations.">WriteContext</a></code>, has input validation.  
 <a href="classpaimon_1_1_write_context_builder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="write__context_8h_source.html">/home/runner/work/paimon-cpp/paimon-cpp/include/paimon/write_context.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6ad9a69a9e46607f1e94d19deda365af" id="r_a6ad9a69a9e46607f1e94d19deda365af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a6ad9a69a9e46607f1e94d19deda365af">WriteContextBuilder</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">root_path</a>, <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">commit_user</a>)</td></tr>
<tr class="memdesc:a6ad9a69a9e46607f1e94d19deda365af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <code><a class="el" href="classpaimon_1_1_write_context_builder.html" title="WriteContextBuilder used to build a WriteContext, has input validation.">WriteContextBuilder</a></code> with required parameters.  <br /></td></tr>
<tr class="separator:a6ad9a69a9e46607f1e94d19deda365af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1f3c2273a608227aa43889237c4e78" id="r_aff1f3c2273a608227aa43889237c4e78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#aff1f3c2273a608227aa43889237c4e78">~WriteContextBuilder</a> ()</td></tr>
<tr class="separator:aff1f3c2273a608227aa43889237c4e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1adf3f18f8780a7da951272ae795abe5" id="r_a1adf3f18f8780a7da951272ae795abe5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a1adf3f18f8780a7da951272ae795abe5">SetOptions</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::map&lt; std::string, std::string &gt; &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">options</a>)</td></tr>
<tr class="memdesc:a1adf3f18f8780a7da951272ae795abe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a configuration options map to set some option entries which are not defined in the table schema or whose values you want to overwrite.  <br /></td></tr>
<tr class="separator:a1adf3f18f8780a7da951272ae795abe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27cdcf8737e307ec36d2590c8561ae73" id="r_a27cdcf8737e307ec36d2590c8561ae73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a27cdcf8737e307ec36d2590c8561ae73">AddOption</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">key</a>, <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;value)</td></tr>
<tr class="memdesc:a27cdcf8737e307ec36d2590c8561ae73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a single configuration option which is not defined in the table schema or whose value you want to overwrite.  <br /></td></tr>
<tr class="separator:a27cdcf8737e307ec36d2590c8561ae73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f08b858246970933fa263b8428983f" id="r_a44f08b858246970933fa263b8428983f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a44f08b858246970933fa263b8428983f">WithStreamingMode</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">bool</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">is_streaming_mode</a>)</td></tr>
<tr class="memdesc:a44f08b858246970933fa263b8428983f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether to enable streaming mode (default is false)  <br /></td></tr>
<tr class="separator:a44f08b858246970933fa263b8428983f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e834e02efd5eb174d08e200d89908be" id="r_a8e834e02efd5eb174d08e200d89908be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a8e834e02efd5eb174d08e200d89908be">WithIgnorePreviousFiles</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">bool</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">ignore_previous_files</a>)</td></tr>
<tr class="memdesc:a8e834e02efd5eb174d08e200d89908be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether the write operation should ignore previously stored files.  <br /></td></tr>
<tr class="separator:a8e834e02efd5eb174d08e200d89908be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e4da341f9e6c6e3a71e97a1cb4be39" id="r_a27e4da341f9e6c6e3a71e97a1cb4be39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a27e4da341f9e6c6e3a71e97a1cb4be39">WithMemoryPool</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::shared_ptr&lt; <a class="el" href="classpaimon_1_1_memory_pool.html">MemoryPool</a> &gt; &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">memory_pool</a>)</td></tr>
<tr class="memdesc:a27e4da341f9e6c6e3a71e97a1cb4be39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set custom memory pool for memory management.  <br /></td></tr>
<tr class="separator:a27e4da341f9e6c6e3a71e97a1cb4be39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eee68bec2e79f0f0dbddff6a52711ae" id="r_a2eee68bec2e79f0f0dbddff6a52711ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a2eee68bec2e79f0f0dbddff6a52711ae">WithExecutor</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::shared_ptr&lt; <a class="el" href="classpaimon_1_1_executor.html">Executor</a> &gt; &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">executor</a>)</td></tr>
<tr class="memdesc:a2eee68bec2e79f0f0dbddff6a52711ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set custom executor for task execution.  <br /></td></tr>
<tr class="separator:a2eee68bec2e79f0f0dbddff6a52711ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8028f23e6eaba79e40318ee94c2dcc5" id="r_ad8028f23e6eaba79e40318ee94c2dcc5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#ad8028f23e6eaba79e40318ee94c2dcc5">WithWriteId</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">int32_t</a> <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">write_id</a>)</td></tr>
<tr class="memdesc:ad8028f23e6eaba79e40318ee94c2dcc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">For postpone bucket mode in pk table, <code><a class="el" href="classpaimon_1_1_write_context_builder.html#ad8028f23e6eaba79e40318ee94c2dcc5" title="For postpone bucket mode in pk table, WithWriteId() supposed to be used.">WithWriteId()</a></code> supposed to be used.  <br /></td></tr>
<tr class="separator:ad8028f23e6eaba79e40318ee94c2dcc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d651fbd10b459afa53bfab69579253" id="r_a82d651fbd10b459afa53bfab69579253"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a82d651fbd10b459afa53bfab69579253">WithBranch</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">branch</a>)</td></tr>
<tr class="memdesc:a82d651fbd10b459afa53bfab69579253"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to specific branch, default is main.  <br /></td></tr>
<tr class="separator:a82d651fbd10b459afa53bfab69579253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d7e66dfe2f42f2b832f530f3922acb" id="r_a30d7e66dfe2f42f2b832f530f3922acb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a30d7e66dfe2f42f2b832f530f3922acb">WithWriteSchema</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::vector&lt; std::string &gt; &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">write_schema</a>)</td></tr>
<tr class="memdesc:a30d7e66dfe2f42f2b832f530f3922acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">For data evolution, user can write partial specific fields from table schema.  <br /></td></tr>
<tr class="separator:a30d7e66dfe2f42f2b832f530f3922acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2553c687ce23775477e9d861cd3fd70" id="r_ab2553c687ce23775477e9d861cd3fd70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#ab2553c687ce23775477e9d861cd3fd70">WithFileSystemSchemeToIdentifierMap</a> (<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::map&lt; std::string, std::string &gt; &amp;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">fs_scheme_to_identifier_map</a>)</td></tr>
<tr class="memdesc:ab2553c687ce23775477e9d861cd3fd70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the file system scheme to identifier mapping for custom file system configurations.  <br /></td></tr>
<tr class="separator:ab2553c687ce23775477e9d861cd3fd70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b4ea339ae0baf164b5664323f27051b" id="r_a6b4ea339ae0baf164b5664323f27051b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpaimon_1_1_result.html">Result</a>&lt; std::unique_ptr&lt; <a class="el" href="classpaimon_1_1_write_context.html">WriteContext</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#a6b4ea339ae0baf164b5664323f27051b">Finish</a> ()</td></tr>
<tr class="memdesc:a6b4ea339ae0baf164b5664323f27051b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and return a <code><a class="el" href="classpaimon_1_1_write_context.html" title="WriteContext is some configuration for write operations.">WriteContext</a></code> instance with input validation.  <br /></td></tr>
<tr class="separator:a6b4ea339ae0baf164b5664323f27051b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae3a74e72a038ca11ecbbd0ae032f5bf8" id="r_ae3a74e72a038ca11ecbbd0ae032f5bf8"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">Impl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaimon_1_1_write_context_builder.html#ae3a74e72a038ca11ecbbd0ae032f5bf8">impl_</a></td></tr>
<tr class="separator:ae3a74e72a038ca11ecbbd0ae032f5bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><code><a class="el" href="classpaimon_1_1_write_context_builder.html" title="WriteContextBuilder used to build a WriteContext, has input validation.">WriteContextBuilder</a></code> used to build a <code><a class="el" href="classpaimon_1_1_write_context.html" title="WriteContext is some configuration for write operations.">WriteContext</a></code>, has input validation. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6ad9a69a9e46607f1e94d19deda365af" name="a6ad9a69a9e46607f1e94d19deda365af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ad9a69a9e46607f1e94d19deda365af">&#9670;&#160;</a></span>WriteContextBuilder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">paimon::WriteContextBuilder::WriteContextBuilder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>root_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>commit_user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <code><a class="el" href="classpaimon_1_1_write_context_builder.html" title="WriteContextBuilder used to build a WriteContext, has input validation.">WriteContextBuilder</a></code> with required parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root_path</td><td>The root path of the table. </td></tr>
    <tr><td class="paramname">commit_user</td><td>The user identifier for commit operations. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff1f3c2273a608227aa43889237c4e78" name="aff1f3c2273a608227aa43889237c4e78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1f3c2273a608227aa43889237c4e78">&#9670;&#160;</a></span>~WriteContextBuilder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">paimon::WriteContextBuilder::~WriteContextBuilder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1adf3f18f8780a7da951272ae795abe5" name="a1adf3f18f8780a7da951272ae795abe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1adf3f18f8780a7da951272ae795abe5">&#9670;&#160;</a></span>SetOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::SetOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::map&lt; std::string, std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a configuration options map to set some option entries which are not defined in the table schema or whose values you want to overwrite. </p>
<dl class="section note"><dt>Note</dt><dd>The options map will clear the options added by <code><a class="el" href="classpaimon_1_1_write_context_builder.html#a27cdcf8737e307ec36d2590c8561ae73" title="Add a single configuration option which is not defined in the table schema or whose value you want to...">AddOption()</a></code> before. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>The configuration options map. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="a27cdcf8737e307ec36d2590c8561ae73" name="a27cdcf8737e307ec36d2590c8561ae73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27cdcf8737e307ec36d2590c8561ae73">&#9670;&#160;</a></span>AddOption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::AddOption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a single configuration option which is not defined in the table schema or whose value you want to overwrite. </p>
<p>If you want to add multiple options, call <code><a class="el" href="classpaimon_1_1_write_context_builder.html#a27cdcf8737e307ec36d2590c8561ae73" title="Add a single configuration option which is not defined in the table schema or whose value you want to...">AddOption()</a></code> multiple times or use <code><a class="el" href="classpaimon_1_1_write_context_builder.html#a1adf3f18f8780a7da951272ae795abe5" title="Set a configuration options map to set some option entries which are not defined in the table schema ...">SetOptions()</a></code> instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The option key. </td></tr>
    <tr><td class="paramname">value</td><td>The option value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="a44f08b858246970933fa263b8428983f" name="a44f08b858246970933fa263b8428983f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f08b858246970933fa263b8428983f">&#9670;&#160;</a></span>WithStreamingMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::WithStreamingMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">bool</a>&#160;</td>
          <td class="paramname"><em>is_streaming_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether to enable streaming mode (default is false) </p>
<dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="a8e834e02efd5eb174d08e200d89908be" name="a8e834e02efd5eb174d08e200d89908be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e834e02efd5eb174d08e200d89908be">&#9670;&#160;</a></span>WithIgnorePreviousFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::WithIgnorePreviousFiles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">bool</a>&#160;</td>
          <td class="paramname"><em>ignore_previous_files</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether the write operation should ignore previously stored files. </p>
<p>(default is false) </p><dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="a27e4da341f9e6c6e3a71e97a1cb4be39" name="a27e4da341f9e6c6e3a71e97a1cb4be39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27e4da341f9e6c6e3a71e97a1cb4be39">&#9670;&#160;</a></span>WithMemoryPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::WithMemoryPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::shared_ptr&lt; <a class="el" href="classpaimon_1_1_memory_pool.html">MemoryPool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>memory_pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set custom memory pool for memory management. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory_pool</td><td>The memory pool to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="a2eee68bec2e79f0f0dbddff6a52711ae" name="a2eee68bec2e79f0f0dbddff6a52711ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eee68bec2e79f0f0dbddff6a52711ae">&#9670;&#160;</a></span>WithExecutor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::WithExecutor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::shared_ptr&lt; <a class="el" href="classpaimon_1_1_executor.html">Executor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>executor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set custom executor for task execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">executor</td><td>The executor to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="ad8028f23e6eaba79e40318ee94c2dcc5" name="ad8028f23e6eaba79e40318ee94c2dcc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8028f23e6eaba79e40318ee94c2dcc5">&#9670;&#160;</a></span>WithWriteId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::WithWriteId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">int32_t</a>&#160;</td>
          <td class="paramname"><em>write_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For postpone bucket mode in pk table, <code><a class="el" href="classpaimon_1_1_write_context_builder.html#ad8028f23e6eaba79e40318ee94c2dcc5" title="For postpone bucket mode in pk table, WithWriteId() supposed to be used.">WithWriteId()</a></code> supposed to be used. </p>
<p>Each worker must have its own unique <code>write_id</code> within a task, which is used as the prefix for its data files. This ensures that files from the same worker share the same prefix and can be consumed by the same compaction reader to preserve input order.</p>
<dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="a82d651fbd10b459afa53bfab69579253" name="a82d651fbd10b459afa53bfab69579253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82d651fbd10b459afa53bfab69579253">&#9670;&#160;</a></span>WithBranch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::WithBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>branch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write to specific branch, default is main. </p>
<dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="a30d7e66dfe2f42f2b832f530f3922acb" name="a30d7e66dfe2f42f2b832f530f3922acb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d7e66dfe2f42f2b832f530f3922acb">&#9670;&#160;</a></span>WithWriteSchema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::WithWriteSchema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>write_schema</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For data evolution, user can write partial specific fields from table schema. </p>
<p>If not set, write all fields in table. </p><dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>

</div>
</div>
<a id="ab2553c687ce23775477e9d861cd3fd70" name="ab2553c687ce23775477e9d861cd3fd70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2553c687ce23775477e9d861cd3fd70">&#9670;&#160;</a></span>WithFileSystemSchemeToIdentifierMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_write_context_builder.html">WriteContextBuilder</a> &amp; paimon::WriteContextBuilder::WithFileSystemSchemeToIdentifierMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">const</a> std::map&lt; std::string, std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>fs_scheme_to_identifier_map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the file system scheme to identifier mapping for custom file system configurations. </p>
<p>This allows using different file system implementations for different URI schemes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fs_scheme_to_identifier_map</td><td>Map from URI scheme to file system identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to this builder for method chaining. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If not set, use default file system (configured in <code><a class="el" href="structpaimon_1_1_options.html#a91cdf2a3a8110ea53a0d9197d38cfae3" title="&quot;file-system&quot; - Specify the file system.">Options::FILE_SYSTEM</a></code>). </dd></dl>

</div>
</div>
<a id="a6b4ea339ae0baf164b5664323f27051b" name="a6b4ea339ae0baf164b5664323f27051b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b4ea339ae0baf164b5664323f27051b">&#9670;&#160;</a></span>Finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpaimon_1_1_result.html">Result</a>&lt; std::unique_ptr&lt; <a class="el" href="classpaimon_1_1_write_context.html">WriteContext</a> &gt; &gt; paimon::WriteContextBuilder::Finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and return a <code><a class="el" href="classpaimon_1_1_write_context.html" title="WriteContext is some configuration for write operations.">WriteContext</a></code> instance with input validation. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classpaimon_1_1_result.html" title="A Result&lt;T&gt; object holds either a value of type T or a Status object explaining why such a value is n...">Result</a> containing the constructed <code><a class="el" href="classpaimon_1_1_write_context.html" title="WriteContext is some configuration for write operations.">WriteContext</a></code> or an error status. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae3a74e72a038ca11ecbbd0ae032f5bf8" name="ae3a74e72a038ca11ecbbd0ae032f5bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a74e72a038ca11ecbbd0ae032f5bf8">&#9670;&#160;</a></span>impl_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="memory__pool_8h.html#a147ba4ba34a215b3a4f3a95c1ee11704">Impl</a>&gt; paimon::WriteContextBuilder::impl_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/paimon-cpp/paimon-cpp/include/paimon/<a class="el" href="write__context_8h_source.html">write_context.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
